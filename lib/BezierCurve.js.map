{"version":3,"sources":["../src/BezierCurve.js"],"names":["BezierCurve","points","percentage","reducedPoints","reduce","point","index","length","nextPoint","push","reduceToPoint","result","validatePoints","Error","controlPoints","slice","forEach","assertValidPoint"],"mappings":";;;;;;;;;;;;;IAAqBA,W;;;AACnB,uBAAYC,MAAZ,EAAoB;AAAA;;AAClB,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACD;;;;kCAEaD,M,EAAQ;AAAA;;AACpB,UAAME,aAAa,GAAGF,MAAM,CAACG,MAAP,CAAc,UAACD,aAAD,EAAgBE,KAAhB,EAAuBC,KAAvB,EAAiC;AACnE,YAAIA,KAAK,KAAKL,MAAM,CAACM,MAAP,GAAgB,CAA9B,EAAiC;AAC/B,cAAMC,SAAS,GAAGP,MAAM,CAACK,KAAK,GAAG,CAAT,CAAxB;AACAH,UAAAA,aAAa,CAACM,IAAd,CAAoB,CAACD,SAAS,GAAGH,KAAb,IAAsB,KAAI,CAACH,UAA/C;AACD;;AAED,eAAOC,aAAP;AACD,OAPqB,EAOnB,EAPmB,CAAtB;;AASA,UAAIA,aAAa,CAACI,MAAd,GAAuB,CAA3B,EAA8B;AAC5B,eAAO,KAAKG,aAAL,CAAmBC,MAAnB,CAAP;AACD;;AAED,aAAOR,aAAa,CAAC,CAAD,CAAb,GAAmB,KAAKF,MAAL,CAAY,CAAZ,CAA1B;AACD;;;4BAEOC,U,EAAY;AAClB,WAAKA,UAAL,GAAkBA,UAAlB;AAEA,WAAKU,cAAL;AACA,aAAO,KAAKF,aAAL,CAAmB,KAAKT,MAAxB,CAAP;AACD;;;qCAEgB;AAAA;;AACf,UAAI,KAAKA,MAAL,CAAYM,MAAZ,GAAqB,CAAzB,EAA2B;AACvB,cAAM,IAAIM,KAAJ,CAAU,qDAAV,CAAN;AACH;;AAED,UAAMC,aAAa,GAAG,KAAKb,MAAL,CAAYc,KAAZ,CAAkB,CAAlB,EAAqB,KAAKd,MAAL,CAAYM,MAAZ,GAAqB,CAA1C,CAAtB;AAEAO,MAAAA,aAAa,CAACE,OAAd,CAAsB,UAAAX,KAAK;AAAA,eAAI,MAAI,CAACY,gBAAL,CAAsBZ,KAAtB,CAAJ;AAAA,OAA3B;AACD;;;qCAEgBA,K,EAAO;AACtB,UAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,cAAM,IAAIQ,KAAJ,CAAU,2CAAV,CAAN;AACD;AACF","sourcesContent":["export default class BezierCurve {\n  constructor(points) {\n    this.points = points;\n    this.percentage = 0;\n  }\n\n  reduceToPoint(points) {\n    const reducedPoints = points.reduce((reducedPoints, point, index) => {\n      if (index !== points.length - 1) {\n        const nextPoint = points[index + 1];\n        reducedPoints.push( (nextPoint - point) * this.percentage);\n      }\n\n      return reducedPoints;\n    }, []);\n\n    if (reducedPoints.length > 1) {\n      return this.reduceToPoint(result);\n    }\n\n    return reducedPoints[0] + this.points[0];\n  }\n\n  valueAt(percentage) {\n    this.percentage = percentage;\n\n    this.validatePoints();\n    return this.reduceToPoint(this.points);\n  }\n\n  validatePoints() {\n    if (this.points.length < 2){\n        throw new Error(\"Invalid Points: The points need to be at least two.\");\n    }\n\n    const controlPoints = this.points.slice(1, this.points.length - 2);\n\n    controlPoints.forEach(point => this.assertValidPoint(point));\n  }\n\n  assertValidPoint(point) {\n    if (typeof point !== \"number\") {\n      throw new Error(\"Invalid point: Points need to be numbers.\");\n    }\n  }\n\n}\n"],"file":"BezierCurve.js"}