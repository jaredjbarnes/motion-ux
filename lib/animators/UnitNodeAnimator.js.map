{"version":3,"sources":["../../src/animators/UnitNodeAnimator.js"],"names":["UnitNodeAnimator","options","animator","NumberAnimator","controls","map","node","parseInt","children","value","unit","length","progress","render","toFixed"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;IAEqBA,gB;;;AACnB,4BAAYC,OAAZ,EAAqB;AAAA;;AACnB,SAAKA,OAAL,GAAeA,OAAf;AAEA,SAAKC,QAAL,GAAgB,IAAIC,uBAAJ,mBACXF,OADW;AAEdG,MAAAA,QAAQ,EAAEH,OAAO,CAACG,QAAR,CAAiBC,GAAjB,CAAqB,UAAAC,IAAI;AAAA,eACjCC,QAAQ,CAACD,IAAI,CAACE,QAAL,CAAc,CAAd,EAAiBC,KAAlB,EAAyB,EAAzB,CADyB;AAAA,OAAzB;AAFI,OAAhB;AAOA,SAAKC,IAAL,GAAY,KAAKT,OAAL,CAAaG,QAAb,CAAsB,CAAtB,EAAyBI,QAAzB,CAAkC,CAAlC,EAAqCC,KAAjD,CAVmB,CAYnB;;AACA,SAAKR,OAAL,CAAaG,QAAb,CAAsBO,MAAtB,GAA+B,CAA/B;AACD;;;;2BAEMC,Q,EAAU;AACf,UAAMH,KAAK,GAAG,KAAKP,QAAL,CAAcW,MAAd,CAAqBD,QAArB,CAAd;AACA,UAAMF,IAAI,GAAG,KAAKA,IAAlB;AACA,uBAAUD,KAAK,CAACK,OAAN,CAAc,CAAd,CAAV,SAA6BJ,IAA7B;AACD","sourcesContent":["import NumberAnimator from \"./NumberAnimator.js\";\n\nexport default class UnitNodeAnimator {\n  constructor(options) {\n    this.options = options;\n\n    this.animator = new NumberAnimator({\n      ...options,\n      controls: options.controls.map(node =>\n        parseInt(node.children[0].value, 10)\n      )\n    });\n\n    this.unit = this.options.controls[0].children[1].value;\n\n    // The nodes become quite the memory hogs, so we need to remove references.\n    this.options.controls.length = 0;\n  }\n\n  render(progress) {\n    const value = this.animator.render(progress);\n    const unit = this.unit;\n    return `${value.toFixed(3)}${unit}`;\n  }\n}\n"],"file":"UnitNodeAnimator.js"}