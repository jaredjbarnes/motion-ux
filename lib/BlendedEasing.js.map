{"version":3,"sources":["../src/BlendedEasing.js"],"names":["BlendedEasing","options","easingA","easingB","offsetValue","valueAt","offset","pointsA","points","map","p","filter","slice","firstPoint","x","length","index","lastIndexOf","unshift","splice","bezierCurve","BezierCurve","validateOptions","percentage","value","Error"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;IAEqBA,a;;;AACnB,yBAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACnBA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,SAAKC,OAAL,GAAeD,OAAO,CAACC,OAAvB;AACA,SAAKC,OAAL,GAAeF,OAAO,CAACE,OAAvB;AAEA,QAAMC,WAAW,GAAG,KAAKF,OAAL,CAAaG,OAAb,CAAqBJ,OAAO,CAACK,MAA7B,CAApB;AACA,QAAMC,OAAO,GAAG,KAAKL,OAAL,CAAaM,MAAb,CACbC,GADa,CACT,UAACC,CAAD;AAAA,aAAO,KAAI,CAACR,OAAL,CAAaG,OAAb,CAAqBK,CAArB,IAA0BN,WAAjC;AAAA,KADS,EAEbO,MAFa,CAEN,UAACD,CAAD;AAAA,aAAOA,CAAC,IAAI,CAAZ;AAAA,KAFM,CAAhB;AAIA,QAAMF,MAAM,GAAG,KAAKL,OAAL,CAAaK,MAAb,CAAoBI,KAApB,EAAf;AACA,QAAMC,UAAU,GAAGN,OAAO,CAAC,CAAD,CAA1B;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,MAAM,CAACO,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,UAAIN,MAAM,CAACM,CAAD,CAAN,IAAaD,UAAjB,EAA6B;AAC3BL,QAAAA,MAAM,CAACM,CAAD,CAAN,GAAYD,UAAZ;AACD;AACF;;AAED,QAAMG,KAAK,GAAGR,MAAM,CAACS,WAAP,CAAmB,CAAnB,CAAd;AAEAV,IAAAA,OAAO,CAACW,OAAR,CAAgB,CAAhB;AACAV,IAAAA,MAAM,CAACW,MAAP,OAAAX,MAAM,GAAQQ,KAAK,GAAG,CAAhB,EAAmB,CAAnB,4BAAyBT,OAAzB,GAAN;AAEA,SAAKa,WAAL,GAAmB,IAAIC,oBAAJ,CAAgBb,MAAhB,CAAnB;AACA,SAAKc,eAAL;AACD;;;;4BAEOC,U,EAAY;AAClB,UAAMC,KAAK,GAAG,KAAKJ,WAAL,CAAiBf,OAAjB,CAAyBkB,UAAzB,CAAd;AACA,aAAOC,KAAP;AACD;;;sCAEiB;AAChB,UACE,OAAO,KAAKtB,OAAL,CAAaG,OAApB,KAAgC,UAAhC,IACA,OAAO,KAAKF,OAAL,CAAaE,OAApB,KAAgC,UAFlC,EAGE;AACA,cAAM,IAAIoB,KAAJ,CACJ,oEADI,CAAN;AAGD;AACF","sourcesContent":["import BezierCurve from \"./BezierCurve.js\";\n\nexport default class BlendedEasing {\n  constructor(options) {\n    options = options || {};\n    this.easingA = options.easingA;\n    this.easingB = options.easingB;\n\n    const offsetValue = this.easingA.valueAt(options.offset);\n    const pointsA = this.easingA.points\n      .map((p) => this.easingA.valueAt(p) - offsetValue)\n      .filter((p) => p >= 0);\n\n    const points = this.easingB.points.slice();\n    const firstPoint = pointsA[0];\n    for (let x = 0; x < points.length; x++) {\n      if (points[x] <= firstPoint) {\n        points[x] = firstPoint;\n      }\n    }\n\n    const index = points.lastIndexOf(0);\n\n    pointsA.unshift(0);\n    points.splice(index + 1, 0, ...pointsA);\n\n    this.bezierCurve = new BezierCurve(points);\n    this.validateOptions();\n  }\n\n  valueAt(percentage) {\n    const value = this.bezierCurve.valueAt(percentage);\n    return value;\n  }\n\n  validateOptions() {\n    if (\n      typeof this.easingA.valueAt !== \"function\" ||\n      typeof this.easingB.valueAt !== \"function\"\n    ) {\n      throw new Error(\n        \"Both bezierCurveA and BezierCurveB need to have valueAt functions.\"\n      );\n    }\n  }\n}\n"],"file":"BlendedEasing.js"}