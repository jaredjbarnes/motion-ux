{"version":3,"sources":["../src/BlendedEasing.js"],"names":["BlendedEasing","options","easingA","offset","to","easingB","validateOptions","slope","getSlope","from","BezierCurve","easing","deltaX","rise","valueAt","run","percentage","adjustedPercentage","toValue","fromValue","Error"],"mappings":";;;;;;;AAAA;;;;;;;;;;IAEqBA,a;;;AACnB,yBAAYC,OAAZ,EAAqB;AAAA;;AACnBA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,SAAKC,OAAL,GAAeD,OAAO,CAACC,OAAvB;AACA,SAAKC,MAAL,GAAcF,OAAO,CAACE,MAAtB;AACA,SAAKC,EAAL,GAAUH,OAAO,CAACI,OAAlB;AAEA,SAAKC,eAAL;AAEA,QAAMC,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,SAAKC,IAAL,GAAY,IAAIC,oBAAJ,CAAgB,CAAC,CAAD,EAAIH,KAAJ,CAAhB,CAAZ;AACA,SAAKI,MAAL,GAAc,IAAID,oBAAJ,CAAgB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAhB,CAAd;AACD,G,CAED;;;;;+BACW;AACT,UAAME,MAAM,GAAG,IAAf;AAEA,UAAIC,IAAJ;;AAEA,UAAI,KAAKV,MAAL,GAAc,CAAlB,EAAqB;AACnBU,QAAAA,IAAI,GACF,KAAKX,OAAL,CAAaY,OAAb,CAAqBF,MAAM,GAAG,KAAKT,MAAnC,IACA,KAAKD,OAAL,CAAaY,OAAb,CAAqB,KAAKX,MAA1B,CAFF;AAGD,OAJD,MAIO;AACLU,QAAAA,IAAI,GAAG,KAAKX,OAAL,CAAaY,OAAb,CAAqB,CAArB,IAA0B,KAAKZ,OAAL,CAAaY,OAAb,CAAqB,IAAIF,MAAzB,CAAjC;AACD;;AAED,UAAMG,GAAG,GAAGH,MAAZ;AAEA,aAAOC,IAAI,GAAGE,GAAd;AACD;;;4BAEOC,U,EAAY;AAClB,UAAMC,kBAAkB,GAAG,KAAKN,MAAL,CAAYG,OAAZ,CAAoBE,UAApB,CAA3B;AAEA,UAAME,OAAO,GAAG,KAAKd,EAAL,CAAQU,OAAR,CAAgBE,UAAhB,CAAhB;AACA,UAAMG,SAAS,GAAG,KAAKV,IAAL,CAAUK,OAAV,CAAkBE,UAAlB,CAAlB;AAEA,aAAOG,SAAS,GAAG,CAACD,OAAO,GAAGC,SAAX,IAAwBF,kBAA3C;AACD;;;sCAEiB;AAChB,UACE,OAAO,KAAKf,OAAL,CAAaY,OAApB,KAAgC,UAAhC,IACA,OAAO,KAAKV,EAAL,CAAQU,OAAf,KAA2B,UAF7B,EAGE;AACA,cAAM,IAAIM,KAAJ,CACJ,2DADI,CAAN;AAGD;AACF","sourcesContent":["import BezierCurve from \"./BezierCurve.js\";\n\nexport default class BlendedEasing {\n  constructor(options) {\n    options = options || {};\n    this.easingA = options.easingA;\n    this.offset = options.offset;\n    this.to = options.easingB;\n\n    this.validateOptions();\n\n    const slope = this.getSlope();\n    this.from = new BezierCurve([0, slope]);\n    this.easing = new BezierCurve([0, 1, 1, 1, 1, 1, 1, 1]);\n  }\n\n  // Use differential calculas to get slope.\n  getSlope() {\n    const deltaX = 0.01;\n\n    let rise;\n\n    if (this.offset < 1) {\n      rise =\n        this.easingA.valueAt(deltaX + this.offset) -\n        this.easingA.valueAt(this.offset);\n    } else {\n      rise = this.easingA.valueAt(1) - this.easingA.valueAt(1 - deltaX);\n    }\n\n    const run = deltaX;\n\n    return rise / run;\n  }\n\n  valueAt(percentage) {\n    const adjustedPercentage = this.easing.valueAt(percentage);\n\n    const toValue = this.to.valueAt(percentage);\n    const fromValue = this.from.valueAt(percentage);\n\n    return fromValue + (toValue - fromValue) * adjustedPercentage;\n  }\n\n  validateOptions() {\n    if (\n      typeof this.easingA.valueAt !== \"function\" ||\n      typeof this.to.valueAt !== \"function\"\n    ) {\n      throw new Error(\n        \"Both easingA and easingB need to have a valueAt function.\"\n      );\n    }\n  }\n}\n"],"file":"BlendedEasing.js"}