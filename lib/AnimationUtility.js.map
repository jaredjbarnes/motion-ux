{"version":3,"sources":["../src/AnimationUtility.js"],"names":["validator","AnimationConfigValidator","AnimationUtility","config","result","setConfig","_setConfig","_normalizeName","_normalizeProperty","_normalizeFrom","_normalizeControls","_normalizeTo","_normalizeStartAt","_normalizeEndAt","_normalizeEasing","name","property","hasValidFromAsString","from","ParsedValue","validateFromAsString","Array","isArray","controls","hasValidControlsAsStrings","map","control","validateControlsAsStrings","hasValidToAsString","to","validateToAsString","hasValidStartAt","startAt","hasValidEndAt","endAt","hasValidEasingString","hasValidEasingFunction","easing","easings","linear"],"mappings":"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","sourcesContent":["import easings from \"./easings.js\";\nimport AnimationConfigValidator from \"./AnimationConfigValidator.js\";\nimport ParsedValue from \"./ParsedValue.js\";\n\nconst validator = new AnimationConfigValidator();\n\nexport default class AnimationUtility {\n  constructor() {\n    this.config = null;\n  }\n\n  _setConfig(config) {\n    this.config = config;\n    this.result = {};\n    validator.setConfig(config);\n  }\n\n  normalizeConfig(config) {\n    this._setConfig(config);\n    this._normalizeName();\n    this._normalizeProperty();\n    this._normalizeFrom();\n    this._normalizeControls();\n    this._normalizeTo();\n    this._normalizeStartAt();\n    this._normalizeEndAt();\n    this._normalizeEasing();\n\n    return this.result;\n  }\n\n  _normalizeName() {\n    this.result.name = this.config.name;\n  }\n\n  _normalizeProperty() {\n    this.result.property = this.config.property;\n  }\n\n  _normalizeFrom() {\n    if (validator.hasValidFromAsString()) {\n      this.result.from = new ParsedValue(this.config.from);\n    } else {\n      validator.validateFromAsString();\n    }\n  }\n\n  _normalizeControls() {\n    if (!Array.isArray(this.config.controls)) {\n      this.config.controls = [];\n    }\n\n    if (validator.hasValidControlsAsStrings()) {\n      this.result.controls = this.config.controls.map(\n        (control) => new ParsedValue(control)\n      );\n    } else {\n      validator.validateControlsAsStrings();\n    }\n  }\n\n  _normalizeTo() {\n    if (validator.hasValidToAsString()) {\n      this.result.to = new ParsedValue(this.config.to);\n    } else {\n      validator.validateToAsString();\n    }\n  }\n\n  _normalizeStartAt() {\n    if (validator.hasValidStartAt()) {\n      this.result.startAt = this.config.startAt;\n    } else {\n      this.result.startAt = 0;\n    }\n  }\n\n  _normalizeEndAt() {\n    if (validator.hasValidEndAt()) {\n      this.result.endAt = this.config.endAt;\n    } else {\n      this.result.endAt = 1;\n    }\n  }\n\n  _normalizeEasing() {\n    if (\n      !validator.hasValidEasingString() &&\n      !validator.hasValidEasingFunction()\n    ) {\n      this.result.easing = easings.linear;\n    } else if (validator.hasValidEasingString()) {\n      this.result.easing = easings[this.config.easing] || easings.linear;\n    } else if (validator.hasValidEasingFunction()) {\n      this.result.easing = this.config.easing;\n    }\n  }\n}\n"],"file":"AnimationUtility.js"}